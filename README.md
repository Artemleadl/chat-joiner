# Автоматическое вступление в чаты Telegram

Этот скрипт позволяет автоматически присоединяться к чатам Telegram от имени одного или нескольких аккаунтов с учётом лимитов и антиспам-логики.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Заполните файл `accounts.json` данными своих аккаунтов (пример структуры создаётся автоматически при первом запуске).

## Получение API_ID и API_HASH

1. Перейдите на https://my.telegram.org/auth
2. Войдите в свой аккаунт Telegram
3. Перейдите в "API development tools"
4. Создайте новое приложение
5. Скопируйте API_ID и API_HASH в файл `accounts.json`

## Использование

1. Добавьте ссылки или username чатов в файл `chat_list.txt` (по одному в строке, поддерживаются все форматы ссылок Telegram).
2. Запустите скрипт:
```bash
python join_telegram_chats.py
```
3. Скрипт автоматически пропустит чаты, в которые уже вступил, и будет работать только с новыми.

## Лимиты и антиспам

- **Лимит вступлений:** до 200 чатов в сутки на каждый аккаунт, до 50 в час.
- **Задержки:** между вступлениями прогрессивная задержка с учётом случайного разброса.
- **FloodWait:** при получении FloodWait бот переключается на другой аккаунт или ждёт окончание лимита.
- **Повторные попытки:**
  - Повторяются только попытки, завершившиеся ошибкой бана (blocked, banned, restricted, flood и т.п.).
  - Не более 3 попыток для одного чата, с интервалом не менее 1 часа.
  - Ошибки типа "требуется одобрение администратора", "неверный username" и т.п. не повторяются.

## Работа с базой

- Все попытки вступления (успешные и неуспешные) сохраняются в базу `joins_history.db`.
- Для анализа можно выгрузить статистику или экспортировать данные в Excel.
- Список чатов автоматически очищается от уже обработанных (дубли и уже вступленные).

## Безопасность

- Не публикуйте свои сессионные файлы и `accounts.json` в публичных репозиториях.
- При первом запуске потребуется ввести код подтверждения, который придет в Telegram.

## Ограничения

- Telegram имеет ограничения на количество чатов и частоту вступлений.
- Некоторые чаты могут требовать одобрения администратора или содержать капчу.
- Слишком частые запросы могут привести к временной блокировке аккаунта. 